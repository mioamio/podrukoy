<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Под рукой</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Manrope:wght@300;400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="themeToggleContainer">
        <button id="themeToggleBtn" class="button" title="Сменить тему" style="height: 40px; padding-left: 10px; padding-right: 10px;">
            <img id="themeIcon" src="banana-light.ico" alt="Тема">
        </button>
    </div>

    <div id="genderModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h2>Выбери свою атмосферу:</h2>
            <div class="gender-options">
                <button id="selectMale" class="button" data-gender="male">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.0622 2.4325C15.0622 2.4325 15.2434 2.25 15.4968 2.25C15.7502 2.25 15.9362 2.4325 15.9362 2.4325L17.2502 3.7525L19.9052 1.0975C20.1112 0.89125 20.4622 0.89125 20.6682 1.0975C20.8745 1.30375 20.8745 1.655 20.6682 1.86125L18.0132 4.51625L19.3332 5.8325C19.3332 5.8325 19.5192 6.015 19.5192 6.26875C19.5192 6.5225 19.3332 6.705 19.3332 6.705L15.0622 10.9775V10.9712C14.8419 11.0797 14.5998 11.1382 14.3502 11.1437C13.2999 11.1601 12.3684 10.7097 11.7682 9.9125C11.7394 9.87002 11.7129 9.82827 11.6887 9.78752C11.6882 9.78627 11.6869 9.78427 11.6862 9.78302L7.41373 5.51052C7.41373 5.51052 7.23248 5.32877 6.97923 5.32877C6.72598 5.32877 6.53998 5.51052 6.53998 5.51052L5.22598 6.83052L2.57098 4.17552C2.36473 3.96927 2.01373 3.96927 1.80748 4.17552C1.60123 4.38177 1.60123 4.73302 1.80748 4.93927L4.46248 7.59427L3.14248 8.91052C3.14248 8.91052 2.95648 9.09252 2.95648 9.34627C2.95648 9.60002 3.14248 9.78252 3.14248 9.78252L9.08748 15.7275C9.08748 15.7275 9.26873 15.91 9.52198 15.91C9.77523 15.91 9.96123 15.7275 9.96123 15.7275L11.2752 14.4075L13.9302 17.0625C14.1365 17.2687 14.4875 17.2687 14.6937 17.0625C14.8999 16.8562 14.8999 16.505 14.6937 16.2987L12.0387 13.6437L13.3587 12.3275C13.3587 12.3275 13.5447 12.145 13.5447 11.8913C13.5447 11.6375 13.3587 11.455 13.3587 11.455L15.0622 9.74252V2.4325ZM14.3502 4.39377C15.8162 4.39377 17.0122 5.59127 17.0122 7.05627C17.0122 8.52127 15.8162 9.71877 14.3502 9.71877C12.8842 9.71877 11.6872 8.52127 11.6872 7.05627C11.6872 5.59127 12.8842 4.39377 14.3502 4.39377Z" /></svg>
                    Мужская
                </button>
                <button id="selectFemale" class="button" data-gender="female">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.25C10.2051 14.25 8.75 12.7949 8.75 11C8.75 9.20508 10.2051 7.75 12 7.75C13.7949 7.75 15.25 9.20508 15.25 11C15.25 12.7949 13.7949 14.25 12 14.25ZM12 9.25C11.0335 9.25 10.25 10.0335 10.25 11C10.25 11.9665 11.0335 12.75 12 12.75C12.9665 12.75 13.75 11.9665 13.75 11C13.75 10.0335 12.9665 9.25 12 9.25Z" /><path d="M12 17.75C10.3472 17.75 9 16.4028 9 14.75H7C7 17.5076 9.24238 19.75 12 19.75C14.7576 19.75 17 17.5076 17 14.75H15C15 16.4028 13.6528 17.75 12 17.75Z" /><path d="M11.25 21.75V18.25H12.75V21.75H11.25Z" /><path d="M17.75 16V17H6.25V16H17.75Z" /></svg>
                    Женская
                </button>
            </div>
        </div>
    </div>

    <div class="container">
        <header>
            <h1>Под рукой - мастерство в каждом движении</h1>
            <p id="welcomeMessage">Анализируй свой личный ритм</p>
            <div class="nickname-section">
                <input type="text" id="nicknameInput" placeholder="Имя (опционально)">
                <button id="saveNicknameBtn" class="button">Сохранить</button>
            </div>
        </header>

        <main>
            <section class="actions">
                <h2>Отметить сессию</h2>
                 <div class="session-details">
                    <label for="sessionCountInput">Количество раз (если больше 1):</label>
                    <input type="number" id="sessionCountInput" min="1" value="1">
                    <label for="sessionNotesInput">Заметка (опционально):</label>
                    <textarea id="sessionNotesInput" rows="3" placeholder="Настроение, ощущения..."></textarea>
                </div>
                <button id="addSessionBtn" class="button">Я сделал это (+1)</button>
                <p id="feedbackMessage" class="feedback"></p>
            </section>

            <section class="statistics">
                <h2>Статистика</h2>
                <div class="stats-cards">
                    <div class="stat-card">
                        <h3>Сегодня</h3>
                        <p><span id="todayCount">0</span></p>
                    </div>
                    <div class="stat-card">
                        <h3>Всего</h3>
                        <p><span id="totalCount">0</span></p>
                    </div>
                    <div class="stat-card">
                        <h3>Среднее в день</h3>
                        <p><span id="averagePerDay">0.0</span></p>
                    </div>
                </div>
                <h3>Календарь активности</h3>
                <div id="heatmapCalendar" class="heatmap">
                </div>
                <div class="legend">
                </div>
            </section>

            <section class="date-details">
                <h2>Детали за выбранный день</h2>
                <div class="date-selector">
                    <label for="selectedDateInput">Выбери дату:</label>
                    <input type="date" id="selectedDateInput">
                </div>
                <div id="selectedDateInfo" class="selected-info-container" style="display: none;">
                    <p><strong>Активность:</strong> <span id="selectedDateCount">0</span> сессий</p>
                    <h4>Заметки:</h4>
                    <ul id="selectedDateNotes">
                        <li class="no-notes" style="display: none;">Заметок за этот день нет</li>
                    </ul>
                </div>
            </section>

            <section class="tips">
                <div id="tipsContainer">
                </div>
            </section>
        </main>
    </div>

    <footer>
        <p>Все данные хранятся локально в твоем браузере</p>
        <button id="resetDataBtn" class="button">Сбросить все данные</button>
        <div class="github-button-container">
            <a href="https://github.com/mioamio" target="_blank" rel="noopener noreferrer" class="btn-github-link">
                <button class="btn-github">
                  <svg
                    width="16"
                    height="16"
                    viewBox="0 0 16 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.99992 1.33331C7.12444 1.33331 6.25753 1.50575 5.4487 1.84078C4.63986 2.17581 3.90493 2.66688 3.28587 3.28593C2.03563 4.53618 1.33325 6.23187 1.33325 7.99998C1.33325 10.9466 3.24659 13.4466 5.89325 14.3333C6.22659 14.3866 6.33325 14.18 6.33325 14C6.33325 13.8466 6.33325 13.4266 6.33325 12.8733C4.48659 13.2733 4.09325 11.98 4.09325 11.98C3.78659 11.2066 3.35325 11 3.35325 11C2.74659 10.5866 3.39992 10.6 3.39992 10.6C4.06659 10.6466 4.41992 11.2866 4.41992 11.2866C4.99992 12.3 5.97992 12 6.35992 11.84C6.41992 11.4066 6.59325 11.1133 6.77992 10.9466C5.29992 10.78 3.74659 10.2066 3.74659 7.66665C3.74659 6.92665 3.99992 6.33331 4.43325 5.85998C4.36659 5.69331 4.13325 4.99998 4.49992 4.09998C4.49992 4.09998 5.05992 3.91998 6.33325 4.77998C6.85992 4.63331 7.43325 4.55998 7.99992 4.55998C8.56659 4.55998 9.13992 4.63331 9.66659 4.77998C10.9399 3.91998 11.4999 4.09998 11.4999 4.09998C11.8666 4.99998 11.6333 5.69331 11.5666 5.85998C11.9999 6.33331 12.2533 6.92665 12.2533 7.66665C12.2533 10.2133 10.6933 10.7733 9.20659 10.94C9.44659 11.1466 9.66659 11.5533 9.66659 12.1733C9.66659 13.0666 9.66659 13.7866 9.66659 14C9.66659 14.18 9.77325 14.3933 10.1133 14.3333C12.7599 13.44 14.6666 10.9466 14.6666 7.99998C14.6666 7.1245 14.4941 6.25759 14.1591 5.44876C13.8241 4.63992 13.333 3.90499 12.714 3.28593C12.0949 2.66688 11.36 2.17581 10.5511 1.84078C9.7423 1.50575 8.8754 1.33331 7.99992 1.33331V1.33331Z"
                      fill="currentcolor"
                    ></path>
                  </svg>
                  <span>GitHub</span>
                </button>
            </a>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
